# AWS アーキテクチャ・クイズマスター

Strands Agentを使用したAWSアーキテクチャ学習ゲームです。

## 概要

このゲームでは、様々なシナリオに対して最適なAWSアーキテクチャを設計することで、AWSサービスの知識とアーキテクチャ設計スキルを向上させることができます。

## 特徴

- 🎯 **3つの難易度レベル**: 初級、中級、上級
- 💰 **コスト分析**: 選択したサービス構成の概算コストを自動計算
- 📊 **詳細な評価**: 正解率、改善点、ベストプラクティスを提示
- 🤖 **AI クイズマスター**: Strands Agentが親切にガイド
- 🏆 **スコアリングシステム**: パフォーマンスに基づいた採点
- 👤 **ユーザー認証**: プレイヤー名の必須入力
- ✅ **入力検証**: 提案外サービスの確認機能

## シナリオ

### 1. スタートアップのWebアプリケーション (初級)
- 月間10万PVのWebアプリケーション
- コスト効率と拡張性を重視
- 最大スコア: 100点

### 2. エンタープライズのマイクロサービス (上級)  
- 大規模なマイクロサービスアーキテクチャ
- セキュリティとモニタリングが重要
- 最大スコア: 200点

### 3. データ分析プラットフォーム (中級)
- リアルタイムデータ処理とバッチ処理
- データレイクとデータウェアハウス
- 最大スコア: 150点

## セットアップ

### 前提条件

- Python 3.8以上
- AWS認証情報の設定（AWS CLI または環境変数）
- Amazon Bedrock へのアクセス権限

### インストール

```bash
# 依存関係のインストール
pip install -r requirements.txt

# AWS認証情報の設定（未設定の場合）
aws configure
```

### Amazon Bedrock モデルアクセスの有効化

1. AWS コンソールで Amazon Bedrock にアクセス
2. 「Model access」で Claude 3.7 Sonnet モデルへのアクセスを有効化
3. 必要に応じて画像生成モデルへのアクセスも有効化

## 使用方法

```bash
# ゲームの開始
python quiz_game.py
```

### ゲームの流れ

1. **プレイヤー名を入力**（必須）
   - 空の場合はエラーメッセージが表示され再入力
2. **シナリオを選択**（1-3）
3. **要件を確認**
4. **適切なAWSサービスを選択**
   - 提案リスト外のサービスがある場合はYes/No確認
   - No選択時は再入力、Yes選択時は評価実行
5. **評価結果とフィードバックを確認**
6. **次のシナリオに挑戦または終了**

### 入力例

```
# プレイヤー名（必須）
プレイヤー名を入力してください: 田中太郎

# サービス選択
選択したサービスをカンマ区切りで入力してください:
例: EC2, RDS, S3, CloudFront
選択: EC2, ALB, Auto Scaling, RDS, S3, CloudFront, ACM

# 提案外サービスがある場合
⚠️  以下のサービスは提案リストにありません:
  • CustomService
これらのサービスを含めて続行しますか？ (Yes/No): No
サービス選択をやり直してください。
```

## 評価システム

### スコア計算
- 基本スコア = シナリオの最大スコア × 正解率
- ペナルティ = 不要なサービス数 × 10点
- 最終スコア = 基本スコア - ペナルティ

### グレード
- **S**: 90%以上の正解率
- **A**: 70-89%の正解率  
- **B**: 50-69%の正解率
- **C**: 30-49%の正解率
- **D**: 30%未満の正解率

## カスタマイズ

### 新しいシナリオの追加

`quiz_game.py` の `SCENARIOS` リストに新しいシナリオを追加できます：

```python
{
    "id": 4,
    "title": "新しいシナリオ",
    "description": "シナリオの説明",
    "requirements": ["要件1", "要件2"],
    "correct_services": ["Service1", "Service2"],
    "difficulty": "中級",
    "max_score": 120
}
```

### コスト情報の更新

`check_architecture_cost` 関数の `service_costs` 辞書を更新して、最新の料金情報を反映できます。

## トラブルシューティング

### よくある問題

1. **Bedrock アクセスエラー**
   - Amazon Bedrock でモデルアクセスが有効化されているか確認
   - AWS認証情報が正しく設定されているか確認

2. **モジュールが見つからないエラー**
   - `pip install -r requirements.txt` を実行
   - Python環境が正しく設定されているか確認

3. **コスト計算が不正確**
   - 実際のAWS料金は地域や使用量により変動します
   - より正確な見積もりには AWS Pricing Calculator を使用してください

## 今後の拡張予定

- [ ] より多くのシナリオの追加
- [ ] 実際のAWS Pricing APIとの連携
- [ ] アーキテクチャ図の自動生成
- [ ] マルチプレイヤー対応
- [ ] 学習進捗の保存機能
- [ ] カスタムシナリオの作成機能

## ライセンス

MIT License

## 貢献

プルリクエストやイシューの報告を歓迎します！
